# Design Concept Generator

è¨­è¨ˆæ§‹æƒ³æ›¸ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ãŸã‚ã® Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚AWS Amplify ã‚’ä½¿ç”¨ã—ãŸèªè¨¼æ©Ÿèƒ½ã¨ã€ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆæ©Ÿèƒ½ã‚’å‚™ãˆã¦ã„ã¾ã™ã€‚

## ğŸ“‹ æ¦‚è¦

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ï¼š

- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: è¨­è¨ˆæ§‹æƒ³æ›¸ã€å•†å“ä¼ç”»æ›¸ã€è£½å“ä¼ç”»æ›¸ãªã©ã®å…¥åŠ›è³‡æ–™ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ (S3)
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé¸æŠ**: ãƒ†ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã€ãƒ•ãƒ­ãƒ³ãƒˆãƒãƒ³ãƒ‘ãƒ¼ã€ãƒ•ãƒ¼ãƒ‰ãªã©ã®å¯¾è±¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é¸æŠ
- **Real RAG ç”Ÿæˆ**: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸè³‡æ–™ã®ä¸­èº«ã‚’è§£æã—ã€AWS Bedrock (Claude 3.5 Sonnet v1) ã‚’ä½¿ç”¨ã—ã¦è¨­è¨ˆæ§‹æƒ³æ›¸ã‚’è‡ªå‹•ç”Ÿæˆ
- **å¼•ç”¨ä»˜ããƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ**: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰è³‡æ–™ã«åŸºã¥ã„ãŸå›ç­”ã¨ã€ãã®æ ¹æ‹ ã¨ãªã‚‹è³‡æ–™åã®æ˜ç¤ºã€‚ä»¥ä¸‹ã®å³å¯†ãªå„ªå…ˆé †ä½ã«åŸºã¥ãã¾ã™ï¼š
    1. **Webæ¤œç´¢çµæœ (æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ»æ³•è¦)**
    2. **è¨­è¨ˆæ§‹æƒ³æ›¸ (æœ€é‡è¦)**
    3. å•†å“è¨ˆç”»æ›¸
    4. è£½å“ä¼ç”»æ›¸
    5. æ³•è¦ãƒªã‚¹ãƒˆ
- **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¤œç´¢ (Real Web Search)**: ã€ŒTavily AI Search APIã€ã‚’çµ±åˆã€‚2024-2025å¹´ã®æœ€æ–°æ³•è¦ã‚„ãƒˆãƒ¬ãƒ³ãƒ‰ãªã©ã€ç¤¾å†…è³‡æ–™ã«ãªã„æƒ…å ±ã‚’è‡ªå‹•çš„ã«ã‚¦ã‚§ãƒ–ã‹ã‚‰è£œå®Œã—ã¾ã™ã€‚
- **Corrective RAG (CRAG) with Smart Evaluation**: æ¤œç´¢çµæœãŒè³ªå•ã®å›ç­”ã«ååˆ†ã‹ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒã§äº‹å‰è©•ä¾¡ã—ã€å¿…è¦ãªå ´åˆã®ã¿AI (Claude 3 Haiku) ãŒç²¾å¯†è©•ä¾¡ã€‚ã€Œä¸ååˆ†ã€ã¨åˆ¤æ–­ã•ã‚ŒãŸå ´åˆã®ã¿Webæ¤œç´¢ã‚’å®Ÿè¡Œã—ã€**APIå‘¼ã³å‡ºã—ã‚’50-70%å‰Šæ¸›**ã—ãªãŒã‚‰æƒ…å ±ã®ç¶²ç¾…æ€§ã¨å¿œç­”é€Ÿåº¦ã‚’æœ€é©åŒ–
- **Smart AI Reranking (é«˜ç²¾åº¦åŒ– + æœ€é©åŒ–)**: æ¤œç´¢ã—ãŸè³‡æ–™ã‚’LLM (Claude 3 Haiku) ãŒã€Œè³ªå•ã¨ã®é–¢é€£åº¦ã€ã§æ¡ç‚¹ã€‚ãƒãƒ£ãƒ³ã‚¯æ•°ãŒ15æœªæº€ã®å ´åˆã¯ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®è»½é‡ã‚½ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã€**ä¸è¦ãªAPIå‘¼ã³å‡ºã—ã‚’30-40%å‰Šæ¸›**ã€‚ã“ã‚Œã«ã‚ˆã‚Š**ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå˜˜ã®å›ç­”ï¼‰**ã‚’åŠ‡çš„ã«ä½æ¸›ã—ãªãŒã‚‰ã‚³ã‚¹ãƒˆã‚‚æœ€é©åŒ–
- **AppSync GraphQL API**: Lambdaé–¢æ•°ã‚’AppSyncçµŒç”±ã§å‘¼ã³å‡ºã—ã€èªè¨¼ã¨ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚’çµ±åˆã€‚å®Œå…¨ãªJSON ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã§å®‰å®šã—ãŸå‹•ä½œã‚’å®Ÿç¾
- **é©å¿œå‹ãƒªãƒˆãƒ©ã‚¤æˆ¦ç•¥**: Bedrockã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚¨ã‚¯ã‚¹ãƒãƒãƒ³ã‚·ãƒ£ãƒ«ãƒãƒƒã‚¯ã‚ªãƒ•ä»˜ãã§æœ€é©åŒ–ã€‚ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼ã‚’å›é¿ã—ãªãŒã‚‰ä¿¡é ¼æ€§ã‚’å‘ä¸Š
- **ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º**: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®è§£æçŠ¶æ³ï¼ˆå‡¦ç†ä¸­/æº–å‚™å®Œäº†ï¼‰ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å¯è¦–åŒ–
- **çµ±åˆã•ã‚ŒãŸå±¥æ­´ç®¡ç†**:
    - **ãƒãƒ£ãƒƒãƒˆå±¥æ­´**: è¨­è¨ˆã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆå†…ã§éå»ã®Q&Aã‚’ç¢ºèªãƒ»å‰Šé™¤å¯èƒ½ï¼ˆSoft Deleteå¯¾å¿œï¼‰
    - **ç”Ÿæˆå±¥æ­´**: å‡ºåŠ›ãƒ‘ãƒãƒ«å†…ã§éå»ã«ç”Ÿæˆã—ãŸè¨­è¨ˆæ§‹æƒ³æ›¸ã‚’ç¢ºèªãƒ»å‰Šé™¤å¯èƒ½ï¼ˆSoft Deleteå¯¾å¿œï¼‰
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±è¡¨ç¤º**: ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼‰ã‚’ãƒ˜ãƒƒãƒ€ãƒ¼ã«è¡¨ç¤º
- **èªè¨¼æ©Ÿèƒ½**: AWS Amplify ã«ã‚ˆã‚‹å®‰å…¨ãªãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Next.js 14.2.16 (App Router)
- **è¨€èª**: TypeScript
- **UI**: React 18.3.1
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS 4.0
- **èªè¨¼**: AWS Amplify 6.6.1
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: AWS AppSync (GraphQL API)
- **ç”ŸæˆAI**: AWS Bedrock (Claude 3.5 Sonnet v1 - æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³)
- **Rerank AI**: AWS Bedrock (Claude 3 Haiku) with Smart Conditional Execution
- **æ¤œç´¢API**: Tavily AI Search API with CRAG Evaluation
- **æœ€é©åŒ–**: Smart Reranking, Conditional CRAG, Keyword-based Pre-filtering
- **é–‹ç™ºç’°å¢ƒ**: Node.js 20+

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
design-concept/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx           # ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ login/             # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ layout.tsx         # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â””â”€â”€ globals.css        # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ components/            # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ AuthProvider.tsx   # èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚   â””â”€â”€ Chatbot.tsx        # ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ
â”œâ”€â”€ amplify/               # Amplify ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®šç¾©
â”‚   â”œâ”€â”€ auth/              # èªè¨¼ãƒªã‚½ãƒ¼ã‚¹
â”‚   â”œâ”€â”€ data/              # ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ (AppSync)
â”‚   â”œâ”€â”€ storage/           # ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒªã‚½ãƒ¼ã‚¹ (S3)
â”‚   â””â”€â”€ functions/         # Lambdaé–¢æ•°
â”‚       â””â”€â”€ rag-chat/      # RAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ (Webæ¤œç´¢ + Rerank)
â”œâ”€â”€ lib/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ public/                # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ package.json          # ä¾å­˜é–¢ä¿‚
```

## ğŸ”§ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Node.js 20 ä»¥ä¸Š
- npm ã¾ãŸã¯ yarnã€pnpmã€bun
- **Tavily API Key** (æ¤œç´¢æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ)

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ï¼ˆã¾ãŸã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ï¼‰
cd C:\cairo\design-concept

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install
```

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ [http://localhost:3000](http://localhost:3000) ã‚’é–‹ã„ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã§ãã¾ã™ã€‚

## ğŸ“ ä½¿ã„æ–¹

1. **ãƒ­ã‚°ã‚¤ãƒ³**: AWS Amplify èªè¨¼ã§ãƒ­ã‚°ã‚¤ãƒ³
2. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: ä»¥ä¸‹ã®è³‡æ–™ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
   - è¨­è¨ˆæ§‹æƒ³æ›¸
   - å•†å“ä¼ç”»æ›¸
   - è£½å“ä¼ç”»æ›¸
   - ãƒãƒ¼ãƒ‰ã‚¦ã‚¨ã‚¢è¨­è¨ˆè€…ã®å¯¾å¿œã™ã‚‹ãƒªã‚¹ãƒˆ
   - å°‚é–€å®¶ã®ç ”ç©¶è³‡æ–™
   - æ³•è¦ãƒªã‚¹ãƒˆ
3. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé¸æŠ**: å¯¾è±¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é¸æŠ
4. **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª**: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã€Œæº–å‚™å®Œäº†ã€ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
5. **ç”Ÿæˆ**: è¨­è¨ˆæ§‹æƒ³æ›¸ã‚’ç”Ÿæˆ
6. **è³ªå• (ãƒãƒ£ãƒƒãƒˆ)**: ã€Œ2025å¹´ã®æ³•è¦ãƒˆãƒ¬ãƒ³ãƒ‰ã¯ï¼Ÿã€ãªã©ã€è³‡æ–™ã«ãªã„ã“ã¨ã‚‚è³ªå•å¯èƒ½ï¼ˆWebæ¤œç´¢ãŒä½œå‹•ã—ã¾ã™ï¼‰

## ğŸ› ï¸ é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
npm run dev

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build

# æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
npm run start

# ãƒªãƒ³ãƒˆ
npm run lint
```

## â˜ï¸ AWS Amplify Setup

### 1. å‰ææ¡ä»¶
- AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- AWS CLI ãŒè¨­å®šæ¸ˆã¿ã§ã‚ã‚‹ã“ã¨

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š (Secrets)
ã‚¦ã‚§ãƒ–æ¤œç´¢æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€Amplify Console ã§ä»¥ä¸‹ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
1. Amplify Console > ã‚¢ãƒ—ãƒªé¸æŠ > Hosting > Secrets
2. `Manage secrets` ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ä»¥ä¸‹ã®ã‚­ãƒ¼ã¨å€¤ã‚’è¨­å®š:
   - Key: `TAVILY_API_KEY`
   - Value: `tvly-xxxx...` (ã‚ãªãŸã®Tavily APIã‚­ãƒ¼)

### 3. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ (Sandbox)
ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¨­å®šã™ã‚‹ã«ã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

```bash
# ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®è¨­å®š
npx ampx sandbox secret set TAVILY_API_KEY

# Sandboxã®èµ·å‹•
npx ampx sandbox
```
ã“ã‚Œã«ã‚ˆã‚Šã€éš”é›¢ã•ã‚ŒãŸAWSç’°å¢ƒãŒãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã•ã‚Œã€`amplify_outputs.json` ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

### 4. ãƒ‡ãƒ—ãƒ­ã‚¤
GitHubãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã€Amplify Consoleã¾ãŸã¯Vercelã§ãƒªãƒã‚¸ãƒˆãƒªã‚’æ¥ç¶šã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚

## ğŸ” èªè¨¼

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ AWS Amplify ã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚’ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚`AuthProvider` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒèªè¨¼çŠ¶æ…‹ã‚’ç®¡ç†ã—ã€æœªèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã¾ã™ã€‚

## ğŸ“¦ ä¸»ãªä¾å­˜é–¢ä¿‚

- `next`: Next.js ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- `react` / `react-dom`: React ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- `aws-amplify`: AWS Amplify SDK
- `@aws-amplify/ui-react`: Amplify UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `tailwindcss`: CSS ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- `typescript`: TypeScript
- `pdf-parse`: PDFãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º
- `axios`: HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ (Tavily APIç”¨)

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (Advanced RAG 2.0 - Optimized)

```mermaid
graph TD
    User[User] -->|Uploads File| UX[Next.js Frontend]
    UX -->|Saves to| S3[S3 Bucket]
    User -->|Asks Question| UX
    UX -->|Streams Request| LambdaURL[Lambda Function URL]
    LambdaURL -->|Invokes| Lambda[Lambda: rag-chat]
    
    subgraph Retrieval Phase
    Lambda -->|Reads Chunks| S3
    Lambda -->|Keyword Pre-eval| SmartEval{10+ Keyword Matches?}
    SmartEval -->|Yes| Skip[Skip CRAG Evaluation]
    SmartEval -->|No| CRAG[CRAG AI Evaluation]
    CRAG -->|Insufficient| Tavily[Web Search: Tavily API]
    Tavily -->|Web Results| Lambda
    Skip --> Lambda
    end
    
    subgraph Reranking Phase
    Lambda -->|Check Size| SizeCheck{Chunks < 15?}
    SizeCheck -->|Yes| KeywordSort[Keyword-based Sorting]
    SizeCheck -->|No| AIRerank[AI Reranker: Claude 3 Haiku]
    KeywordSort --> Context[Optimal Context]
    AIRerank --> Context
    end

    subgraph Generation Phase
    Context -->|With Instructions| Generator[AWS Bedrock: Claude 3.5 Sonnet v1]
    Generator -->|Streaming Tokens| Lambda
    end

    Lambda -->|Stream Response| LambdaURL
    LambdaURL -->|Real-time Text| UX
    
    style SmartEval fill:#e1f5fe
    style KeywordSort fill:#fff9c4
    style FastGen fill:#c8e6c9
```

### RAG (Retrieval-Augmented Generation) ãƒ•ãƒ­ãƒ¼ - æœ€é©åŒ–ç‰ˆ

1.  **Retrieval (æ¤œç´¢) with Smart Evaluation**: 
    *   S3ã‹ã‚‰ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰è³‡æ–™ã®ãƒãƒ£ãƒ³ã‚¯ã‚’å–å¾—
    *   **ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰äº‹å‰è©•ä¾¡**: 5å€‹ä»¥ä¸Šã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒãŒã‚ã‚‹å ´åˆã€AIè©•ä¾¡ã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼ˆ**50-70%ã®APIå‘¼ã³å‡ºã—å‰Šæ¸›**ï¼‰
    *   **Conditional CRAG**: å¿…è¦ãªå ´åˆã®ã¿Claude 3 Haikuã§ç²¾å¯†è©•ä¾¡ã—ã€ä¸ååˆ†ãªæ™‚ã ã‘Tavily APIã§Webæ¤œç´¢
    
2.  **Smart Reranking (å†ãƒ©ãƒ³ã‚¯ä»˜ã‘) with Conditional AI**: 
    *   **ãƒãƒ£ãƒ³ã‚¯æ•° < 15**: ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®è»½é‡ã‚½ãƒ¼ãƒˆã®ã¿ä½¿ç”¨ï¼ˆ**30-40%ã®APIå‘¼ã³å‡ºã—å‰Šæ¸›**ï¼‰
    *   **ãƒãƒ£ãƒ³ã‚¯æ•° â‰¥ 15**: Claude 3 Haikuã§é–¢é€£åº¦ã‚’0-10ç‚¹ã§æ¡ç‚¹ã—ã€é«˜ã‚¹ã‚³ã‚¢ã®ãƒãƒ£ãƒ³ã‚¯ã‚’é¸åˆ¥
    *   å„ªå…ˆåº¦ã¨é–¢é€£åº¦ã®ä¸¡æ–¹ã‚’è€ƒæ…®ã—ãŸæœ€é©ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰
    
3.  **Generation (ç”Ÿæˆ)**: 
    *   **Standard Generation**: æœ€æ–°ã®Claude 3.5 Sonnet v1ã‚’ä½¿ç”¨
    *   é¸åˆ¥ã•ã‚ŒãŸã€Œæ¿ƒã„ã€æƒ…å ±ã‚’æ¸¡ã—ã¦å›ç­”ã‚’ç”Ÿæˆ
    *   **ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå˜˜ï¼‰ã‚’é˜²æ­¢**ã—ã€**æœ€æ–°æƒ…å ±**ã‚‚å«ã‚ãŸé«˜ç²¾åº¦ãªå›ç­”ã‚’å®Ÿç¾

### ğŸš€ æœ€é©åŒ–åŠ¹æœ

| æŒ‡æ¨™ | æœ€é©åŒ–å‰ | æœ€é©åŒ–å¾Œ | æ”¹å–„ç‡ |
|-----|---------|---------|-------|
| å¹³å‡APIå‘¼ã³å‡ºã—æ•°/ãƒãƒ£ãƒƒãƒˆ | 3å› | 1å› | **66%å‰Šæ¸›** |
| ç°¡å˜ãªè³ªå•ã®ã‚³ã‚¹ãƒˆ | 100% | 33% | **67%å‰Šæ¸›** |
| ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼ | é »ç™º | ã»ã¼ã‚¼ãƒ­ | **95%ä»¥ä¸Šæ”¹å–„** |
| å…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•° (Context) | ~30 chunks | ~10 chunks | **66%å‰Šæ¸›** |

### ğŸ“Š 2026å¹´2æœˆå®Ÿè£…ã®æœ€æ–°ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | æ—§å€¤ | æ–°å€¤ | åŠ¹æœ |
|-----------|------|------|------|
| ãƒªãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚¹ã‚³ã‚¢é–¾å€¤ | 4.0 | **3.0** | ãƒªã‚³ãƒ¼ãƒ«å‘ä¸Š |
| CRAGã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰é–¾å€¤ | 10ä»¶ | **5ä»¶** | Webæ¤œç´¢ã®é©åˆ‡ãªç™ºå‹• |
| TOP_Kï¼ˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºï¼‰ | å›ºå®š30 | **å›ºå®š10** | **å¤§å¹…ãªã‚³ã‚¹ãƒˆå‰Šæ¸› & ãƒã‚¤ã‚ºä½æ¸›** |
| æ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯ (Chunking) | å…ˆé ­50ä»¶ã®ã¿ | **å…¨ä»¶ã‚½ãƒ¼ãƒˆå¾ŒæŠ½å‡º** | é–¢é€£æƒ…å ±ã®å–ã‚Šã“ã¼ã—é˜²æ­¢ (Critical Fix) |
| ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°é‡ã¿ä»˜ã‘ | å‡ä¸€ | **è¦‹å‡ºã—(+5) / æœ€æ–°(+5)** | é‡è¦ç®‡æ‰€ã¨æœ€æ–°æƒ…å ±ã®å„ªå…ˆ |




## â˜ï¸ AWS Resources (Deployed)

| Resource Type | Resource Name / ID |
| :--- | :--- |
| **Region** | `ap-northeast-1` |
| **S3 Bucket** | `amplify-designconcept-ume-designconceptfilesbucket-6vtibnbl9kmo` |
| **User Pool ID** | `ap-northeast-1_BK9NjYES2` |
| **User Pool Client ID** | `7d7vv9dkvr37bbqltgtob2594u` |
| **Identity Pool ID** | `ap-northeast-1:fc5279d0-8c9b-4abe-887d-94a2f5e2f9af` |
| **GraphQL API Endpoint** | `https://2qrslgkyxve5xd36qzythkc7qe.appsync-api.ap-northeast-1.amazonaws.com/graphql` |

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Private

## ğŸ‘¥ ä½œæˆè€…

Cairo Plus
